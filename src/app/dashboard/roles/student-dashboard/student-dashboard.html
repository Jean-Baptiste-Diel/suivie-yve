<div class="dashboard">
  <!-- Sidebar -->
  <aside class="sidebar">
    <nav>
      <ul>
        <li>
          <section class="welcome-banner">
            <div class="welcome-text">
              <h2>Welcome back, {{ studentName || 'Ã‰tudiant' }} ğŸ“</h2>
              <p>{{ today | date:'fullDate' }}</p>
            </div>

          </section>
        </li>
        <li [class.active]="activeSection === 'dashboard'" (click)="setSection('dashboard')">
          <i class="fas fa-tachometer-alt"></i> Dashboard
        </li>
        <li [class.active]="activeSection === 'projets'" (click)="setSection('projets')">
          <i class="fas fa-folder-open"></i> Projets
        </li>
        <li [class.active]="activeSection === 'messagerie'" (click)="setSection('messagerie')">
          <i class="fas fa-comments"></i> Messagerie
        </li>
        <li [class.active]="activeSection === 'soutenance'" (click)="setSection('soutenance')">
          <i class="fas fa-calendar-alt"></i>  Plannig Soutenance
        </li>
        <li [class.active]="activeSection === 'commentaires'" (click)="setSection('commentaires')">
          <i class="fas fa-sticky-note"></i> Commentaires
        </li>
        <li class="logout" (click)="authService.logout()">
          <i class="fas fa-sign-out-alt"></i> DÃ©connexion
        </li>
      </ul>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Dynamic Sections -->
    <section class="card-grid">
      <!-- Dashboard -->
      <ng-container *ngIf="activeSection === 'dashboard'">
        <div class="card notifications small">
          <app-notifications></app-notifications>
        </div>
      </ng-container>

      <!-- Projets -->
      <ng-container *ngIf="activeSection === 'projets'">
        <div class="card livrables">
          <app-list ></app-list >
        </div>
        <div class="card livrables">
          <h3>âœï¸ Modifier Livrables</h3>
          <app-edit-livrable></app-edit-livrable>

        </div>
      </ng-container>

      <!-- Messagerie -->
<<!-- Messagerie -->
<ng-container *ngIf="activeSection === 'messagerie'">
  <div class="card messagerie">
    <h3>ğŸ’¬ Messagerie</h3>

    <app-list-messagerie
  (conversationSelected)="selectedConversationId = $event.id">
</app-list-messagerie>

<app-detail-messagerie
  *ngIf="selectedConversationId"
  [conversationId]="selectedConversationId">
</app-detail-messagerie>
  </div>
</ng-container>


      <!-- Soutenance -->
      <ng-container *ngIf="activeSection === 'soutenance'">
        <div class="card soutenance">
          <h3>ğŸ“… Planning Soutenance</h3>
          <app-detail-soutenance></app-detail-soutenance>
        </div>
      </ng-container>

      <!-- Commentaires -->
      <ng-container *ngIf="activeSection === 'commentaires'">
        <div class="card comments">
          <h3>ğŸ“ Commentaires</h3>
          <app-list-commentaire></app-list-commentaire>
        </div>
      </ng-container>
    </section>
  </main>
</div>
